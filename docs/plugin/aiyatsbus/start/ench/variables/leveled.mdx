---
sidebar_position: 2
---

# 等级变量

这部分内容涉及附魔的与等级相关的变量配置，此类变量支持配置单位。

:::tip

例如你想配置一个等级越高伤害越高的附魔，就可以配置此类变量。

:::

我们将介绍两种配置方式。

## 配置公式（变量与数值具有函数关系）

您可以配置一个以 `等级` 为自变量的函数，示例如下：

```yaml
variables:
  leveled:
    伤害增加百分比: "%:15.0*{level}"
```

我们可以将该行配置 `伤害增加百分比: "%:15.0*{level}"` 分为三部分：`伤害增加百分比`、`%`、`15.0*{level}`。

|  部分         |  示例           | 描述                       |
|------------------------|-----------|-----------------|
| 变量名称    | `伤害增加百分比`        | 该变量名称，同时也作为该配置项的名称，必须在该附魔的全部变量名中保持唯一                   |
| 单位    | `%`| 是该配置项的值的前部分，与后面的计算公式用 **英文冒号** 分割           |
| 计算公式    | `15.0*{level}`            | 是该配置项的值的后部分，`{level}` 在运算时会被替换为触发附魔的等级，与前面的单位用 **英文冒号** 分割 |

## 不同等级不同数值

有这样一个情景：您需要在附魔为一级时数值为 `50`，二级时为 `67`，三级时数值为 `75`。

若您需要为该变量配置一个公式，我们令等级为 `x`，数值为 `y`，您会发现公式难以打出：

![](/img/leveled-formula.png)

因此，如果您的变量数值无法通过一个函数准确地表达出来，那么您可以为不同的等级设定相应数值，例如：

```yaml
variables:
  leveled:
    比例:
      1: 50
      2: 67
      3: 75
      unit: "%"
```

可见，变量名称为 `比例`，且在一级时为 `50`，二级时为 `67`，三级时数值为 `75`，单位为 `%`。

## 嵌套计算变量

一个等级变量中可以将另一个等级变量的数值作为参数传入，例如：

```yaml
variables:
  leveled:
    A变量: "%:15.0*{level}"
    B变量: "%:0.3*{{A变量}}" # 使用两个大括号括起变量名称
```

:::caution

千万不要相互嵌套计算！（A 中有 B，B 中有 A）

:::